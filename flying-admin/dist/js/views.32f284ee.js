(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views"],{4895:function(t,e,a){},"6aed":function(t,e,a){"use strict";a("a6ec")},"72b3":function(t,e,a){"use strict";a("4895")},8255:function(t,e,a){"use strict";a("ae00")},"91d0":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dev",[a("a-drawer",{attrs:{title:t.generateTitle("App.addApp"),width:500,visible:t.visible,"body-style":{paddingBottom:"80px"},closable:!1,destroyOnClose:!0,VNode:"slot"},on:{close:t.onClose}},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{ref:"appId",attrs:{label:t.generateTitle("App.List.appId"),prop:"appId"}},[a("a-input",{attrs:{placeholder:t.generateTitle("App.placeholder.appId")},model:{value:t.form.appId,callback:function(e){t.$set(t.form,"appId",e)},expression:"form.appId"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{ref:"name",attrs:{label:t.generateTitle("App.List.appName"),prop:"name"}},[a("a-input",{attrs:{placeholder:t.generateTitle("App.placeholder.appName")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:t.generateTitle("Node.node"),prop:"nodes"}},[a("a-checkbox-group",{model:{value:t.form.nodes,callback:function(e){t.$set(t.form,"nodes",e)},expression:"form.nodes"}},[t._l(t.nodeList,(function(e){return[a("a-tooltip",[e.status?t._e():a("template",{slot:"title"},[t._v(" "+t._s(t.generateTitle("App.placeholder.selectNode"))+" ")]),a("a-checkbox",{staticStyle:{"margin-right":"25px"},attrs:{value:e.id,name:e.name,disabled:!e.status}},[t._v(" "+t._s(e.name)+" ")])],2)]}))],2)],1)],1)],1)],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:t.onClose}},[t._v(" "+t._s(t.generateTitle("Button.cancel"))+" ")]),a("a-button",{attrs:{type:"primary",loading:t.iconLoading},on:{click:t.submit}},[t._v(" "+t._s(t.generateTitle("Button.create"))+" ")])],1)],1)],1)},r=[],i=a("0f66"),n=a("b562"),s=a("79fa"),l=a("f06c"),c={name:"AddApp",data:function(){return{form:{appId:"",name:"",nodes:[]},visible:!1,nodeList:[],iconLoading:!1}},computed:{rules:function(){return{appId:[{required:!0,message:this.generateTitle("App.Verification.pleaseInputAppId"),trigger:"blur"}],name:[{required:!0,message:this.generateTitle("App.Verification.pleaseInputAppName"),trigger:"blur"}],nodes:[{type:"array",required:!0,message:this.generateTitle("App.Verification.selectNode"),trigger:"change"}]}}},props:["parent"],created:function(){this.getNodeAll()},methods:{generateTitle:s["a"],showModal:function(){this.visible=!0},getNodeAll:function(){var t=this;Object(i["e"])().then((function(e){t.nodeList=e.data.data.list}))},submit:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.iconLoading=!0,Object(n["a"])(t.form).then((function(e){t.iconLoading=!1,Object(l["a"])(t,e.data)&&(t.visible=!1,3===t.parent?t.$parent.$parent.$parent.getAppList():t.$parent.refreshApp(),t.resetForm())}))}))},onClose:function(){this.visible=!1,this.iconLoading=!1,this.resetForm()},resetForm:function(){this.$refs.ruleForm.resetFields()}}},p=c,d=(a("8255"),a("2877")),u=Object(d["a"])(p,o,r,!1,null,"49cfcc4e",null);e["a"]=u.exports},"99af":function(t,e,a){"use strict";var o=a("23e7"),r=a("d039"),i=a("e8b5"),n=a("861d"),s=a("7b0b"),l=a("50c4"),c=a("8418"),p=a("65f0"),d=a("1dde"),u=a("b622"),f=a("2d00"),g=u("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",b=f>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=d("concat"),y=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},x=!b||!v;o({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,o,r,i,n=s(this),d=p(n,0),u=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?n:arguments[e],y(i)){if(r=l(i.length),u+r>h)throw TypeError(m);for(a=0;a<r;a++,u++)a in i&&c(d,u,i[a])}else{if(u>=h)throw TypeError(m);c(d,u++,i)}return d.length=u,d}})},a6ec:function(t,e,a){},ae00:function(t,e,a){},b562:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return l}));var o=a("b5c6");function r(t){return Object(o["a"])({url:"/app/getAppList",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/app/createApp",method:"post",data:t})}function n(t){return Object(o["a"])({url:"/app/deleteApp",method:"delete",data:t})}function s(t){return Object(o["a"])({url:"/app/findApp/"+t,method:"get"})}function l(t){return Object(o["a"])({url:"/app/updateApp",method:"put",data:t})}},bb51:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",{attrs:{id:"c-layout"}},[a("node-status"),a("app-list")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-sider",{staticStyle:{background:"#fff",height:"730px"},attrs:{width:"400px"}},[a("a-card",{attrs:{title:t.generateTitle("Node.nodeStatus"),bordered:!1,size:"small",headStyle:{backgroundColor:"#42b983",color:"#fff"},bodyStyle:{}}},[""!==t.errMessage?a("a-alert",{attrs:{type:"error","show-icon":"",message:t.errMessage+t.generateTitle("Node.Error.conError"),banner:"",closable:""}}):t._e(),a("a-list",{staticStyle:{width:"350px",margin:"0 auto"},attrs:{"item-layout":"horizontal",size:"small","data-source":t.nodeList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a-space",{attrs:{size:30}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":e.status?"#icon-chenggong":"#icon-bupipei"}})]),a("a-list-item-meta",[a("dev",{attrs:{slot:"title",href:e.name},slot:"title"},[t._v(t._s(e.name))])],1),a("a-list-item-meta",[a("a",{attrs:{slot:"description"},slot:"description"},[t._v(t._s(e.url))])]),a("a-list-item-meta",[a("span",{attrs:{slot:"description"},slot:"description"},[t._v(t._s(e.content))])])],1)],1)}}])})],1)],1)},n=[],s=(a("4160"),a("b0c0"),a("159b"),a("0f66")),l=a("79fa"),c={name:"NodeList",data:function(){return{nodeList:[],ifAlert:!1,errMessage:""}},created:function(){this.getNodeAll()},methods:{generateTitle:l["a"],getNodeAll:function(){var t=this,e=this;Object(s["e"])().then((function(a){console.log(a);var o=a.data.data.list;e.errMessage="",o.forEach((function(t){t.status||(e.errMessage+=t.name+" ")})),t.nodeList=a.data.data.list}))}}},p=c,d=(a("72b3"),a("2877")),u=Object(d["a"])(p,i,n,!1,null,"5c9392e2",null),f=u.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dev",{staticStyle:{width:"100%","min-width":"900px"},attrs:{id:"appList"}},[a("add-app",{ref:"add",attrs:{parent:1}}),a("a-layout",{staticStyle:{padding:"0 24px 24px"}},[a("a-layout-content",{style:{background:"#fff",margin:0,height:"730px",minWidth:"384px",width:"100%"},attrs:{width:"100%"}},[a("a-card",{staticStyle:{height:"100%"},attrs:{title:t.generateTitle("App.appProject"),bordered:!1,size:"small",headStyle:{backgroundColor:"#42b983",color:"#fff"},bodyStyle:{padding:"24px",minWidth:"384px",width:"100%",height:"680px",overflow:"auto"}}},[a("a-icon",{staticStyle:{color:"#ffffff","font-size":"23px",cursor:"pointer"},attrs:{slot:"extra",title:"添加应用",type:"plus-circle"},on:{click:function(e){return t.addShow()}},slot:"extra"}),a("a-list",{attrs:{grid:{gutter:16,column:6},"data-source":t.appList,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e,o){return a("a-list-item",{staticStyle:{width:"142px"}},[a("a-card",{staticStyle:{"text-align":"center","border-radius":"3px",border:"1px solid #DFF4E8"},attrs:{hoverable:"",bordered:"",size:"small"},on:{click:function(a){return t.app(e.appId)}}},[a("span",{staticStyle:{"font-size":"15px",color:"#42b983"}},[t._v(t._s(e.name))]),t._v(" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"10px",color:"#7ECDA7"}},[t._v(t._s(e.appId))])])],1)}}])},[t.showLoadingMore&&this.totalPage>this.query.page?a("div",{style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?a("a-spin"):a("div",{staticStyle:{margin:"0 auto","text-align":"center"}},[a("a-button",{staticStyle:{width:"100px",height:"10px",margin:"0 auto"},attrs:{type:"link"},on:{click:function(e){return t.loadPage()}}},[a("svg",{staticClass:"icon",attrs:{t:"1615960868472",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4722",width:"100",height:"100"}},[a("path",{attrs:{d:"M105.025641 0h236.307692c57.764103 0 105.025641 47.261538 105.025641 105.025641v236.307692c0 57.764103-47.261538 105.025641-105.025641 105.025641H105.025641c-57.764103 0-105.025641-47.261538-105.025641-105.025641V105.025641c0-57.764103 47.261538-105.025641 105.025641-105.025641z m0 577.641026h236.307692c57.764103 0 105.025641 47.261538 105.025641 105.025641v236.307692c0 57.764103-47.261538 105.025641-105.025641 105.025641H105.025641c-57.764103 0-105.025641-47.261538-105.025641-105.025641V682.666667c0-57.764103 47.261538-105.025641 105.025641-105.025641z m577.641026 0h236.307692c57.764103 0 105.025641 47.261538 105.025641 105.025641v236.307692c0 57.764103-47.261538 105.025641-105.025641 105.025641H682.666667c-57.764103 0-105.025641-47.261538-105.025641-105.025641V682.666667c0-57.764103 47.261538-105.025641 105.025641-105.025641z",fill:"#4AB984","p-id":"4723"}}),a("path",{staticClass:"selected",attrs:{d:"M848.082051 24.94359L984.615385 161.476923c34.133333 34.133333 34.133333 87.958974 0 122.092308L848.082051 421.415385c-34.133333 34.133333-87.958974 34.133333-122.092307 0L589.45641 283.569231c-34.133333-34.133333-34.133333-87.958974 0-122.092308L727.302564 24.94359c32.820513-32.820513 87.958974-32.820513 120.779487 0z",fill:"#7ECDA7","p-id":"4724","data-spm-anchor-id":"a313x.7781069.0.i4"}})]),a("span",{staticStyle:{"font-size":"10px",margin:"0 auto",color:"#4AB984"}},[t._v("加载更多")])])],1)],1):t._e()])],1)],1)],1)],1)},h=[],m=(a("99af"),a("b562")),b=a("91d0"),v={name:"AppList",components:{AddApp:b["a"]},data:function(){return{visible:!1,appList:[],nodeList:[],total:0,page:1,totalPage:0,query:{page:1,pageSize:10},isRouterAlive:!0,isNotData:!1,loading:!0,loadingMore:!1,showLoadingMore:!0}},created:function(){this.getAppList(this.query)},methods:{generateTitle:l["a"],refreshApp:function(){this.query.page=1,this.appList=[],this.getAppList(this.query)},getAppList:function(t){var e=this;this.loading=!0,this.loadingMore=!0,this.showLoadingMore=!1,Object(m["d"])(t).then((function(t){e.appList=e.appList.concat(t.data.data.list),e.total=t.data.data.total,t.data.data.list.length<=0?e.isNotData=!0:e.isNotData=!1,e.totalPage=Math.ceil(e.total/12)||1,e.loading=!1,e.loadingMore=!1,e.showLoadingMore=!0,console.log(e.totalPage),console.log(e.query.page)}))},loadPage:function(){this.page++,this.query.page++,this.getAppList(this.query)},addShow:function(){this.$refs.add.showModal()},app:function(t){var e=this;this.$store.commit("changeAsId",t),this.$store.commit("clearAppNodeId"),Object(s["d"])(t).then((function(a){var o=a.data.data;e.$router.push({path:"/app/namespace",query:{appId:t,nodeId:o.node[0].id,status:o.node[0].status}})}))}}},y=v,x=(a("6aed"),Object(d["a"])(y,g,h,!1,null,"01584d90",null)),A=x.exports,w={name:"Home",components:{NodeStatus:f,AppList:A}},L=w,_=Object(d["a"])(L,o,r,!1,null,null,null);e["default"]=_.exports}}]);