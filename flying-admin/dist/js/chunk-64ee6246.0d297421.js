(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64ee6246"],{2713:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("node")},a=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-layout",{staticStyle:{padding:"24px"}},[o("add-node",{ref:"add"}),o("update-node",{ref:"update"}),o("a-layout-content",{style:{background:"#fff",padding:"0 ",margin:0,minHeight:"700px"}},[o("a-card",{attrs:{title:e.generateTitle("Node.nodeManagement"),bordered:!1,size:"small",headStyle:{backgroundColor:"#42b983",color:"#fff"},bodyStyle:{padding:"24px"}}},[""!==e.errMessage?o("a-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{message:"",description:e.errMessage+e.generateTitle("Node.Error.conError"),type:"error","show-icon":"",closable:"",banner:""}}):e._e(),o("a-button",{staticClass:"editable-add-btn",staticStyle:{"margin-bottom":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.addShow()}}},[e._v(" "+e._s(e.generateTitle("Node.addNode"))+" ")]),o("a-table",{attrs:{columns:e.columns,"data-source":e.nodeList,"row-key":function(e){return e.id},pagination:e.pagination},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t){return o("a",{},[e._v(e._s(t))])}},{key:"status",fn:function(e){return o("span",{},[o("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[o("use",{attrs:{"xlink:href":e?"#icon-chenggong":"#icon-bupipei"}})])])}},{key:"action",fn:function(t,n,a){return o("span",{},[o("a-space",[o("a-tooltip",{attrs:{title:e.generateTitle("Node.testCon")}},[o("a-button",{attrs:{shape:"circle",icon:"reload",loading:t.loading},on:{click:function(o){return e.enterIconLoading(t,a)}}})],1),o("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[o("a-button",{attrs:{type:"primary"},on:{click:function(o){return e.updateShow(t.id)}}},[e._v(" "+e._s(e.generateTitle("Node.update"))+" ")])],1),o("a-button",{attrs:{type:"danger"},on:{click:function(o){return e.showDeleteConfirm(t)}}},[e._v(" "+e._s(e.generateTitle("Node.delete"))+" ")])],1)],1)}}])})],1)],1)],1)},i=[],s=(o("4160"),o("a434"),o("b0c0"),o("159b"),o("5530")),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-drawer",{attrs:{title:e.generateTitle("Node.addNode"),width:500,visible:e.visible,"body-style":{paddingBottom:"80px"},closable:!1,destroyOnClose:!0,VNode:"slot"},on:{close:e.onClose}},[o("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"name",attrs:{label:e.generateTitle("Node.List.nodeName"),prop:"name"}},[o("a-input",{attrs:{placeholder:e.generateTitle("Node.placeholder.nodeName")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"url",attrs:{label:e.generateTitle("Node.List.nodeAddress"),prop:"url"}},[o("a-input",{attrs:{placeholder:e.generateTitle("Node.placeholder.nodeAddress")},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1)],1),o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"content",attrs:{label:e.generateTitle("Node.List.nodeDescription"),prop:"content"}},[o("a-input",{attrs:{type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1)],1),o("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[o("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" "+e._s(e.generateTitle("Button.cancel"))+" ")]),o("a-button",{attrs:{type:"primary",loading:e.iconLoading},on:{click:e.submit}},[e._v(" "+e._s(e.generateTitle("Button.create"))+" ")])],1)],1)},d=[],c=o("0f66"),u=o("79fa"),p=o("f06c"),f={name:"AddNode",data:function(){return{visible:!1,form:{name:"",url:"",content:""},iconLoading:!1}},computed:{rules:function(){return{name:[{required:!0,message:this.generateTitle("Node.Verification.pleaseInputNodeName"),trigger:"blur"}],url:[{required:!0,message:this.generateTitle("Node.Verification.pleaseInputNodeAddress"),trigger:"blur"}]}}},methods:{generateTitle:u["a"],showModal:function(){this.visible=!0},submit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.iconLoading=!0,Object(c["a"])(e.form).then((function(t){e.iconLoading=!1,Object(p["a"])(e,t.data)&&(e.visible=!1,e.resetForm(),e.$parent.$parent.$parent.getNodeList())}))}))},onClose:function(){this.iconLoading=!1,this.visible=!1,this.resetForm()},resetForm:function(){this.$refs.ruleForm.resetFields()}}},m=f,g=o("2877"),h=Object(g["a"])(m,l,d,!1,null,"d7c4fac0",null),b=h.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-drawer",{attrs:{title:e.generateTitle("Node.updateNode"),width:500,visible:e.visible,"body-style":{paddingBottom:"80px"},closable:!1,destroyOnClose:!0,VNode:"slot"},on:{close:e.onClose}},[o("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"name",attrs:{label:e.generateTitle("Node.List.nodeName"),prop:"name"}},[o("a-input",{attrs:{placeholder:e.generateTitle("Node.placeholder.nodeName")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"url",attrs:{label:e.generateTitle("Node.List.nodeAddressNotUpdate"),prop:"url"}},[o("a-input",{attrs:{disabled:"true",placeholder:e.generateTitle("Node.placeholder.nodeAddress")},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1)],1),o("a-row",{attrs:{gutter:20}},[o("a-col",{attrs:{span:20}},[o("a-form-model-item",{ref:"content",attrs:{label:e.generateTitle("Node.List.nodeDescription"),prop:"content"}},[o("a-input",{attrs:{type:"textarea"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1)],1),o("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[o("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" "+e._s(e.generateTitle("Button.cancel"))+" ")]),o("a-button",{attrs:{type:"primary",loading:e.iconLoading},on:{click:e.submit}},[e._v(" "+e._s(e.generateTitle("Button.update"))+" ")])],1)],1)},v=[],y={name:"AddNode",data:function(){return{visible:!1,form:[],iconLoading:!1}},computed:{rules:function(){return{name:[{required:!0,message:this.generateTitle("Node.Verification.pleaseInputNodeName"),trigger:"blur"}],url:[{required:!0,message:this.generateTitle("Node.Verification.pleaseInputNodeAddress"),trigger:"blur"}]}}},methods:{generateTitle:u["a"],findNode:function(e){var t=this;Object(c["c"])(e).then((function(e){console.log(e),t.form=e.data.data.node}))},showModal:function(e){this.visible=!0,this.findNode(e)},submit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.iconLoading=!0,Object(c["i"])(e.form).then((function(t){e.iconLoading=!1,Object(p["a"])(e,t.data)&&(e.visible=!1,e.resetForm(),e.$parent.$parent.$parent.getNodeList())}))}))},onClose:function(){this.visible=!1,this.iconLoading=!1,this.resetForm()},resetForm:function(){this.$refs.ruleForm.resetFields()}}},x=y,T=Object(g["a"])(x,N,v,!1,null,"31776b2c",null),L=T.exports,w={name:"Node",data:function(){var e=this;return{query:{page:1,pageSize:3},nodeList:[],pagination:{defaultPageSize:5,onShowSizeChange:function(t,o){return e.pageSize=o},total:0},errMessage:"",iconLoading:!1}},components:{AddNode:b,UpdateNode:L},computed:{columns:function(){return[{title:this.generateTitle("Node.List.conStatus"),dataIndex:"status",key:"status",slots:{title:"status"},scopedSlots:{customRender:"status"}},{title:this.generateTitle("Node.List.nodeName"),dataIndex:"name",key:"name"},{title:this.generateTitle("Node.List.nodeAddress"),dataIndex:"url",key:"url"},{title:this.generateTitle("Node.List.nodeDescription"),key:"content",dataIndex:"content",scopedSlots:{customRender:"content"}},{title:this.generateTitle("Node.List.operation"),key:"action",scopedSlots:{customRender:"action"}}]}},mounted:function(){this.getNodeList()},methods:{generateTitle:u["a"],handleTableChange:function(e){console.log(e);var t=Object(s["a"])({},this.pagination);t.current=e.current,this.pagination=t,this.getNodeList({results:e.pageSize,page:e.current})},getNodeList:function(){var e=this,t=this;Object(c["f"])(this.params).then((function(o){var n=Object(s["a"])({},e.pagination);n.total=o.data.data.total,e.pagination=n,e.nodeList=o.data.data.list,e.errMessage="",e.nodeList.forEach((function(e,o){e.loading=!1,e.status||(t.errMessage+=e.name+" ")}))}))},addShow:function(){this.$refs.add.showModal()},updateShow:function(e){this.$refs.update.showModal(e)},showDeleteConfirm:function(e){var t=this,o=(this.$createElement,this);this.$confirm({title:function(o){return o("div",{style:""},[t.$t("Node.areDelete"),o("span",{style:"color: red; font-size: 20px"},[e.name])])},content:this.$t("Node.confirmDelete"),okText:this.$t("Button.determine"),okType:"danger",cancelText:this.$t("Button.cancel"),onOk:function(){Object(c["b"])(e).then((function(e){Object(p["a"])(o,e.data)&&o.getNodeList()}))},onCancel:function(){console.log("Cancel")}})},deleteNode:function(e){},enterIconLoading:function(e,t){var o=this;e.loading=!0,this.nodeList.splice(t,1,e),Object(c["h"])(e.id).then((function(n){e.loading=!1,o.nodeList.splice(t,1,e),Object(p["a"])(o,n.data)&&o.getNodeList()}))}}},k=w,$=(o("7639"),Object(g["a"])(k,r,i,!1,null,"a644376c",null)),_=$.exports,C={name:"List",components:{Node:_}},S=C,O=Object(g["a"])(S,n,a,!1,null,"47e8e78c",null);t["default"]=O.exports},"608f":function(e,t,o){},7639:function(e,t,o){"use strict";o("608f")},a434:function(e,t,o){"use strict";var n=o("23e7"),a=o("23cb"),r=o("a691"),i=o("50c4"),s=o("7b0b"),l=o("65f0"),d=o("8418"),c=o("1dde"),u=o("ae40"),p=c("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var o,n,c,u,p,f,N=s(this),v=i(N.length),y=a(e,v),x=arguments.length;if(0===x?o=n=0:1===x?(o=0,n=v-y):(o=x-2,n=g(m(r(t),0),v-y)),v+o-n>h)throw TypeError(b);for(c=l(N,n),u=0;u<n;u++)p=y+u,p in N&&d(c,u,N[p]);if(c.length=n,o<n){for(u=y;u<v-n;u++)p=u+n,f=u+o,p in N?N[f]=N[p]:delete N[f];for(u=v;u>v-n+o;u--)delete N[u-1]}else if(o>n)for(u=v-n;u>y;u--)p=u+n-1,f=u+o-1,p in N?N[f]=N[p]:delete N[f];for(u=0;u<o;u++)N[u+y]=arguments[u+2];return N.length=v-n+o,c}})}}]);